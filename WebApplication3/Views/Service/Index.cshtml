@{
    ViewBag.Title = "Servicios";
}

<h2>@ViewBag.Title</h2>

<div class="container" style="margin-top: 45px;">

    <button onclick="loadNewServicice()" class="btn btn-primary">Guardar</button>
    <div id="tbData"></div>
</div>

<script>

    function loadNewServicice() {
        return document.location.href = "@Url.Content("~/Service/New")";
    }




    Get()
    function Get() {
        url = "@Url.Content("~/Service/List")";
        fetch(url)
            .then(response => response.text())
            .then(result => document.getElementById('tbData').innerHTML = result)
            .catch(error => console.log('error', error));
    }

     
    function jsDelete(Id) {
        var url = "@Url.Content("~/Service/Delete")";
        fetch(url, {
            method: "POST",
            body: JSON.stringify({
                Id: Id
            }),
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            }
        }).then((resp) => {
            if (resp.ok) return resp.text()
            alert('Error al actualizar')
            }).then((data) => {
                if (data != "1") {
                    alert(data)
                } else {
                   Get()
                }
            })
    }

    

</script>